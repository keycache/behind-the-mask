---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import ImageUploader from '../components/ImageUploader.astro';
import ImageEditor from '../components/ImageEditor.astro';
---

<Layout title="Upload - Behind the Mask">
    <Header />
    <main class="min-h-screen pt-24 px-4 py-8 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto space-y-8">
            <!-- Title Section -->
            <div class="text-center">
                <h1 class="text-3xl font-bold tracking-tight sm:text-4xl bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">
                    Upload Your Image
                </h1>
                <p class="mt-4 text-lg text-gray-700 dark:text-gray-300">
                    Choose an image and customize your text placement
                </p>
            </div>

            <!-- Upload and Editor Components -->
            <ImageUploader />
            <ImageEditor />
        </div>
    </main>
    <Footer />
</Layout>

<script>
    // Initialize the editor when the page loads
    import { setupImageProcessor } from '../lib/ImageProcessor';
    import { setupTextOverlay } from '../lib/TextOverlay';

    // Setup the components after the page loads
    // document.addEventListener('DOMContentLoaded', () => {
    //     setupImageProcessor();
    //     setupTextOverlay();
    // });
</script>